---
title: 开闭原则
date: 2023-08-09 00:09:04
permalink: /pages/2089b9/
categories:
  - 02_客户端开发
  - 01_代码设计规范
  - 01_设计模式
tags:
  - 
author: 
  name: xugaoyi
  link: https://github.com/xugaoyi
---
1988年，勃兰特·梅耶（Bertrand Meyer）在他的著作《面向对象软件构造（Object Oriented Software Construction）》中提出了开闭原则，它的原文是这样：“Software entities should be open for extension,but closed for modification”。翻译过来就是：“软件实体应当对扩展开放，对修改关闭”。这句话说得略微有点专业，我们把它讲得更通俗一点，也就是：软件系统中包含的各种组件，例如模块（Modules）、类（Classes）以及功能（Functions）等等，应该在不修改现有代码的基础上，引入新功能。开闭原则中“开”，是指对于组件功能的扩展是开放的，是允许对其进行功能扩展的；开闭原则中“闭”，是指对于原有代码的修改是封闭的，即不应该修改原有的代码。

也就是说,模块的功能是可以扩展的,但是扩展的时候,不应该修改原来的代码.



# 实现方案

1,让调用者修改调用代码,以及新增实现类的方式来实现新功能,已有的文件不需要修改.

2,开闭原则的核心思想是通过抽象和多态性来实现。它建议将系统划分为稳定的基础部分和可扩展的部分，通过定义适当的抽象接口或基类，来隔离稳定部分和变化部分。这样，当需要引入新功能时，只需要创建新的派生类、实现新的接口或添加新的模块，而不需要修改原有的代码。这有助于降低系统变更带来的风险，避免因修改已有代码而引入新的错误。



# 使用案例

ffmpeg打开能打开多种文件的例子.假如当前的版本只能打开flv,不能打开mp4,现在想能同时打开mp4文件.

我们需要重新`configure`一下ffmpeg,比如能打开flv和mp4.



